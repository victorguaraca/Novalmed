"use strict";(self.webpackChunkpreclinic_angular=self.webpackChunkpreclinic_angular||[]).push([[7939],{7939:(z,g,s)=>{s.r(g),s.d(g,{AdminDashboardModule:()=>u});var l=s(6895),m=s(27),x=s(6382),t=s(4650),b=s(7945),A=s(5117),T=s(6205),q=s(4385),O=s(3238),v=s(6308),Z=s(433);const U=["chart"];function y(i,a){if(1&i&&(t.TgZ(0,"p")(1,"span",27),t._UZ(2,"i",28),t._uU(3),t.qZA(),t._uU(4," vs last month"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.hij("",e.porcentaje_d,"%")}}function w(i,a){if(1&i&&(t.TgZ(0,"p")(1,"span",29),t._UZ(2,"i",30),t._uU(3),t.qZA(),t._uU(4," vs last month"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.hij("",e.porcentaje_d,"%")}}function j(i,a){if(1&i&&(t.TgZ(0,"p")(1,"span",27),t._UZ(2,"i",28),t._uU(3),t.qZA(),t._uU(4," vs last month"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.hij("",e.porcentaje_dp,"%")}}function C(i,a){if(1&i&&(t.TgZ(0,"p")(1,"span",29),t._UZ(2,"i",30),t._uU(3),t.qZA(),t._uU(4," vs last month"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.hij("",e.porcentaje_dp,"%")}}function D(i,a){if(1&i&&(t.TgZ(0,"p")(1,"span",27),t._UZ(2,"i",30),t._uU(3),t.qZA(),t._uU(4," vs last month"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.hij("",e.porcentaje_da,"%")}}function J(i,a){if(1&i&&(t.TgZ(0,"p")(1,"span",29),t._UZ(2,"i",30),t._uU(3),t.qZA(),t._uU(4," vs last month"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.hij("",e.porcentaje_da,"%")}}function Q(i,a){if(1&i&&(t.TgZ(0,"p")(1,"span",27),t._UZ(2,"i",28),t._uU(3),t.qZA(),t._uU(4," vs last month"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.hij("",e.porcentaje_dt,"%")}}function N(i,a){if(1&i&&(t.TgZ(0,"p")(1,"span",29),t._UZ(2,"i",30),t._uU(3),t.qZA(),t._uU(4," vs last month"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.hij("",e.porcentaje_dt,"%")}}function Y(i,a){if(1&i&&(t.TgZ(0,"div",3)(1,"div",17)(2,"div",18)(3,"div",19),t._UZ(4,"img",20),t.qZA(),t.TgZ(5,"div",21)(6,"h4"),t._uU(7,"Equipo "),t.qZA(),t.TgZ(8,"h2")(9,"span",22),t._uU(10),t.TgZ(11,"small"),t._uU(12),t.qZA()()(),t.YNc(13,y,5,1,"p",23),t.YNc(14,w,5,1,"p",23),t.qZA()()(),t.TgZ(15,"div",17)(16,"div",18)(17,"div",19),t._UZ(18,"img",24),t.qZA(),t.TgZ(19,"div",21)(20,"h4"),t._uU(21,"Nuevos pacientes"),t.qZA(),t.TgZ(22,"h2")(23,"span",22),t._uU(24),t.TgZ(25,"small"),t._uU(26),t.qZA()()(),t.YNc(27,j,5,1,"p",23),t.YNc(28,C,5,1,"p",23),t.qZA()()(),t.TgZ(29,"div",17)(30,"div",18)(31,"div",19),t._UZ(32,"img",25),t.qZA(),t.TgZ(33,"div",21)(34,"h4"),t._uU(35,"Operaciones"),t.qZA(),t.TgZ(36,"h2")(37,"span",22),t._uU(38),t.TgZ(39,"small"),t._uU(40),t.qZA()()(),t.YNc(41,D,5,1,"p",23),t.YNc(42,J,5,1,"p",23),t.qZA()()(),t.TgZ(43,"div",17)(44,"div",18)(45,"div",19),t._UZ(46,"img",26),t.qZA(),t.TgZ(47,"div",21)(48,"h4"),t._uU(49,"Ganancias"),t.qZA(),t.TgZ(50,"h2"),t._uU(51,"$"),t.TgZ(52,"span",22),t._uU(53),t.TgZ(54,"small"),t._uU(55),t.qZA()()(),t.YNc(56,Q,5,1,"p",23),t.YNc(57,N,5,1,"p",23),t.qZA()()()()),2&i){const e=t.oxw();t.xp6(10),t.hij("",e.num_appointments_current,"/ "),t.xp6(2),t.Oqu(e.num_appointments_before),t.xp6(1),t.Q6J("ngIf",e.porcentaje_d>=0),t.xp6(1),t.Q6J("ngIf",e.porcentaje_d<0),t.xp6(10),t.hij("",e.num_patients_current,"/ "),t.xp6(2),t.Oqu(e.num_patients_before),t.xp6(1),t.Q6J("ngIf",e.porcentaje_dp>=0),t.xp6(1),t.Q6J("ngIf",e.porcentaje_dp<0),t.xp6(10),t.hij("",e.num_appointments_attetion_current,"/ "),t.xp6(2),t.Oqu(e.num_appointments_attetion_before),t.xp6(1),t.Q6J("ngIf",e.porcentaje_da>=0),t.xp6(1),t.Q6J("ngIf",e.porcentaje_da<0),t.xp6(11),t.hij(" ",e.appointments_total_current,"/ "),t.xp6(2),t.Oqu(e.appointments_total_before),t.xp6(1),t.Q6J("ngIf",e.porcentaje_dt>=0),t.xp6(1),t.Q6J("ngIf",e.porcentaje_dt<0)}}function E(i,a){if(1&i&&(t.TgZ(0,"mat-option",49),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.value," ")}}function I(i,a){if(1&i&&(t.TgZ(0,"div",50),t._UZ(1,"apx-chart",51),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("series",e.chartOptionsOneTwo.series)("chart",e.chartOptionsOneTwo.chart)("xaxis",e.chartOptionsOneTwo.xaxis)("dataLabels",e.chartOptionsOneTwo.dataLabels)("grid",e.chartOptionsOneTwo.grid)("stroke",e.chartOptionsOneTwo.stroke)("title",e.chartOptionsOneTwo.title)("markers",e.chartOptionsOneTwo.markers)("yaxis",e.chartOptionsOneTwo.yaxis)("fill",e.chartOptionsOneTwo.fill)}}function L(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",31)(2,"div",32)(3,"div",33)(4,"div",34)(5,"h4"),t._uU(6,"Visita de pacientes por g\xe9nero"),t.qZA(),t.TgZ(7,"div")(8,"ul",35)(9,"li"),t._UZ(10,"i",36),t._uU(11,"Masculino75%"),t.qZA(),t.TgZ(12,"li"),t._UZ(13,"i",37),t._uU(14," Femenino 25%"),t.qZA()()(),t.TgZ(15,"div",38)(16,"mat-select",39),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.selectedValue=o)})("selectionChange",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.selectedYear())}),t.YNc(17,E,2,2,"mat-option",40),t.qZA()()(),t.TgZ(18,"div",41),t._UZ(19,"apx-chart",42),t.qZA(),t.YNc(20,I,2,10,"div",43),t.qZA()()(),t.TgZ(21,"div",44)(22,"div",32)(23,"div",33)(24,"div",45)(25,"h4"),t._uU(26,"Paciente por Departamento"),t.qZA()(),t.TgZ(27,"div",46),t._UZ(28,"apx-chart",47)(29,"img",48),t.qZA()()()()()}if(2&i){const e=t.oxw();t.xp6(16),t.Q6J("ngModel",e.selectedValue),t.xp6(1),t.Q6J("ngForOf",e.selecedList),t.xp6(2),t.Q6J("series",e.chartOptionsOne.series)("chart",e.chartOptionsOne.chart)("dataLabels",e.chartOptionsOne.dataLabels)("plotOptions",e.chartOptionsOne.plotOptions)("responsive",e.chartOptionsOne.responsive)("xaxis",e.chartOptionsOne.xaxis)("legend",e.chartOptionsOne.legend)("fill",e.chartOptionsOne.fill)("grid",e.chartOptionsOne.grid)("xaxis",e.chartOptionsOne.xaxis),t.xp6(1),t.Q6J("ngIf",e.query_income_year),t.xp6(8),t.Q6J("series",e.chartOptionsTwo.series)("chart",e.chartOptionsTwo.chart)("labels",e.chartOptionsTwo.labels)("responsive",e.chartOptionsTwo.responsive)("dataLabels",e.chartOptionsTwo.dataLabels)("legend",e.chartOptionsTwo.legend)}}function F(i,a){if(1&i&&(t.TgZ(0,"div",68)(1,"div",69),t._UZ(2,"img",70),t.qZA(),t.TgZ(3,"div",71)(4,"h4"),t._uU(5),t.qZA(),t.TgZ(6,"p"),t._uU(7),t.qZA()()()),2&i){const e=a.$implicit;t.xp6(5),t.Oqu(e.name),t.xp6(2),t.hij("",e.percentage,"%")}}const M=function(i,a){return{"status-pink":i,"status-green":a}},P=function(i,a){return{"status-green":i,"status-pink":a}},S=function(i){return["/appointment-m/list/edit/",i]};function k(i,a){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"button",72),t._uU(7),t.qZA()(),t.TgZ(8,"td")(9,"button",72),t._uU(10),t.qZA()(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td",73)(14,"div",74)(15,"a",75),t._UZ(16,"i",76),t.qZA(),t.TgZ(17,"div",77)(18,"a",78),t._UZ(19,"i",79),t._uU(20," Edit"),t.qZA()()()()()),2&i){const e=a.$implicit;t.xp6(2),t.hij("",e.date_appointment_format," "),t.xp6(2),t.Oqu(e.doctor.full_name),t.xp6(2),t.Q6J("ngClass",t.WLB(8,M,1===e.status,2===e.status)),t.xp6(1),t.Oqu(1==e.status?"PENDIENTE":"ATENDIDO"),t.xp6(2),t.Q6J("ngClass",t.WLB(11,P,1===e.status_pay,2===e.status_pay)),t.xp6(1),t.Oqu(1==e.status_pay?"PAGADO":"DEUDA"),t.xp6(2),t.hij("",e.amount," PEN"),t.xp6(6),t.Q6J("routerLink",t.VKq(14,S,e.id))}}function V(i,a){if(1&i&&(t.TgZ(0,"div",3)(1,"div",52)(2,"div",53)(3,"div",54)(4,"h4",55),t._uU(5,"Especialidad superior "),t.qZA()(),t.TgZ(6,"div",33),t.YNc(7,F,8,2,"div",56),t.qZA()()(),t.TgZ(8,"div",57)(9,"div",32)(10,"div",54)(11,"h4",58),t._uU(12,"Citas pendientes"),t.qZA()(),t.TgZ(13,"div",59)(14,"div",60)(15,"table",61)(16,"thead")(17,"tr")(18,"th",62),t._uU(19,"Fecha"),t.qZA(),t.TgZ(20,"th",63),t._uU(21,"Doctor"),t.qZA(),t.TgZ(22,"th",64),t._uU(23,"Estado"),t.qZA(),t.TgZ(24,"th",65),t._uU(25,"Pago de estado "),t.qZA(),t.TgZ(26,"th",66),t._uU(27,"Charges ($)"),t.qZA(),t._UZ(28,"th"),t.qZA()(),t.TgZ(29,"tbody"),t.YNc(30,k,21,16,"tr",67),t.qZA()()()()()()()),2&i){const e=t.oxw();t.xp6(7),t.Q6J("ngForOf",e.query_patients_speciality_percentage),t.xp6(23),t.Q6J("ngForOf",e.appointments)}}class h{constructor(a,e){this.data=a,this.dashboardService=e,this.routes=x._,this.selectedValue="2024",this.recentPatients=[],this.upcomingAppointments=[],this.appointments=[],this.num_appointments_current=0,this.num_appointments_before=0,this.porcentaje_d=0,this.num_patients_current=0,this.num_patients_before=0,this.porcentaje_dp=0,this.num_appointments_attetion_current=0,this.num_appointments_attetion_before=0,this.porcentaje_da=0,this.appointments_total_current=0,this.appointments_total_before=0,this.porcentaje_dt=0,this.query_patient_by_genders=[],this.query_patients_speciality=[],this.query_patients_speciality_percentage=[],this.query_income_year=[],this.selecedList=[{value:"2024"},{value:"2023"},{value:"2022"},{value:"2021"}],this.chartOptionsOne={chart:{height:230,type:"bar",stacked:!0,toolbar:{show:!1}},grid:{show:!0,xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}}},responsive:[{breakpoint:480,options:{legend:{position:"bottom",offsetX:-10,offsetY:0}}}],plotOptions:{bar:{horizontal:!1,columnWidth:"15%"}},dataLabels:{enabled:!1},series:[{name:"Masculino",color:"#2E37A4",data:[]},{name:"Femenino",color:"#00D3C7",data:[]}],xaxis:{categories:["Enero","Febrero","Marzo","April","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],axisBorder:{show:!1}}},this.chartOptionsTwo={series:[],labels:[],chart:{type:"donut",height:200,width:200,toolbar:{show:!1}},legend:{show:!1},plotOptions:{bar:{horizontal:!1,columnWidth:"50%"}},dataLabels:{enabled:!1},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{show:!1}}}]},this.chartOptionsOneTwo={chart:{height:200,type:"line",toolbar:{show:!1}},grid:{show:!0,xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}}},dataLabels:{enabled:!1},stroke:{curve:"smooth"},series:[{name:"Income",color:"#2E37A4",data:[]}],xaxis:{categories:[]}},this.recentPatients=this.data.recentPatients,this.upcomingAppointments=this.data.upcomingAppointments}ngOnInit(){this.user=this.dashboardService.authService.user,(this.user.roles.includes("Super-Admin")||this.user.permissions.includes("admin_dashboard"))&&(this.dashboardService.dashboardAdmin({}).subscribe(a=>{console.log(a),this.appointments=a.appointments.data,this.num_appointments_current=a.num_appointments_current,this.num_appointments_before=a.num_appointments_before,this.porcentaje_d=a.porcentaje_d,this.num_patients_current=a.num_patients_current,this.num_patients_before=a.num_patients_before,this.porcentaje_dp=a.porcentaje_dp,this.num_appointments_attetion_current=a.num_appointments_attetion_current,this.num_appointments_attetion_before=a.num_appointments_attetion_before,this.porcentaje_da=a.porcentaje_da,this.appointments_total_current=a.num_appointments_total_current,this.appointments_total_before=a.num_appointments_total_before,this.porcentaje_dt=a.porcentaje_dt}),this.dashboardAdminYear())}dashboardAdminYear(){let a={year:this.selectedValue};this.query_income_year=null,this.dashboardService.dashboardAdminYear(a).subscribe(e=>{console.log(e),this.query_patient_by_genders=e.query_patient_by_genders;let n=[],o=[];this.query_patient_by_genders.forEach(c=>{n.push(c.hombre),o.push(c.mujer)}),this.chartOptionsOne.series=[{name:"Male",color:"#2E37A4",data:n},{name:"Female",color:"#00D3C7",data:o}],this.query_patients_speciality=e.query_patients_speciality;let d=[],p=[];this.query_patients_speciality.forEach(c=>{d.push(c.name),p.push(c.count)}),this.chartOptionsTwo.labels=d,this.chartOptionsTwo.series=p,this.query_patients_speciality_percentage=e.query_patients_speciality_percentage,this.query_income_year=e.query_income_year;let f=[];this.query_income_year.forEach(c=>{f.push(c.income)}),this.chartOptionsOneTwo={chart:{height:200,type:"line",toolbar:{show:!1}},grid:{show:!0,xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}}},dataLabels:{enabled:!1},stroke:{curve:"smooth"},series:[{name:"Income",color:"#2E37A4",data:f}],xaxis:{categories:e.months_name}}})}sortData(a){const e=this.recentPatients.slice(),n=this.upcomingAppointments.slice();a.active&&""!==a.direction?(this.recentPatients=e.sort((o,r)=>(o[a.active]<r[a.active]?-1:1)*("asc"===a.direction?1:-1)),this.upcomingAppointments=n.sort((o,r)=>(o[a.active]<r[a.active]?-1:1)*("asc"===a.direction?1:-1))):(this.recentPatients=e,this.upcomingAppointments=n)}selectedYear(){console.log(this.selectedValue),this.dashboardAdminYear()}static#t=this.\u0275fac=function(e){return new(e||h)(t.Y36(b.D),t.Y36(A.s))};static#e=this.\u0275cmp=t.Xpm({type:h,selectors:[["app-admin-dashboard"]],viewQuery:function(e,n){if(1&e&&t.Gf(U,5),2&e){let o;t.iGM(o=t.CRH())&&(n.chart=o.first)}},decls:29,vars:5,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"good-morning-blk"],[1,"col-md-6"],[1,"morning-user"],[1,"col-md-6","position-blk"],[1,"morning-img"],["src","assets/Admins/JOHANNA_MARITZA.jpg","alt",""],["class","row",4,"ngIf"],[1,"col-md-6","col-sm-6","col-lg-6","col-xl-3"],[1,"dash-widget"],[1,"dash-boxs","comman-flex-center"],["src","assets/img/icons/calendar.svg","alt",""],[1,"dash-content","dash-count"],[1,"counter-up"],[4,"ngIf"],["src","assets/img/icons/profile-add.svg","alt",""],["src","assets/img/icons/scissor.svg","alt",""],["src","assets/img/icons/empty-wallet.svg","alt",""],[1,"passive-view"],[1,"feather","icon-arrow-up-right","me-1"],[1,"negative-view"],[1,"feather","icon-arrow-down-right","me-1"],[1,"col-12","col-md-12","col-lg-6","col-xl-9"],[1,"card"],[1,"card-body"],[1,"chart-title","patient-visit"],[1,"nav","chat-user-total"],["aria-hidden","true",1,"fa","fa-circle","current-users"],["aria-hidden","true",1,"fa","fa-circle","old-users"],[1,"form-group","mb-0"],["placeholder","2022",1,"form-control","select",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["id","patient-chart"],[3,"series","chart","dataLabels","plotOptions","responsive","xaxis","legend","fill","grid"],["id","apexcharts-area",4,"ngIf"],[1,"col-12","col-md-12","col-lg-6","col-xl-3","d-flex"],[1,"chart-title"],["id","donut-chart-dash",1,"chart-user-icon"],[1,"donut-chart-custom",3,"series","chart","labels","responsive","dataLabels","legend"],["src","assets/img/icons/user-icon.svg","alt",""],[3,"value"],["id","apexcharts-area"],[3,"series","chart","xaxis","dataLabels","grid","stroke","title","markers","yaxis","fill"],[1,"col-12","col-md-12","col-xl-4"],[1,"card","top-departments"],[1,"card-header"],[1,"card-title","mb-0"],["class","activity-top",4,"ngFor","ngForOf"],[1,"col-12","col-md-12","col-xl-8"],[1,"card-title"],[1,"card-body","p-0","table-dash"],[1,"table-responsive"],["matSort","",1,"table","mb-0","border-0","datatable","custom-table","patient-profile-table"],["mat-sort-header","date"],["mat-sort-header","doctor"],["mat-sort-header","status"],["mat-sort-header","status_pay"],["mat-sort-header","charges"],[4,"ngFor","ngForOf"],[1,"activity-top"],[1,"activity-boxs","comman-flex-center"],["src","assets/img/icons/dep-icon-01.svg","alt",""],[1,"departments-list"],[1,"custom-badge",3,"ngClass"],[1,"text-end"],[1,"dropdown","dropdown-action"],["href","javascript:void(0);","data-bs-toggle","dropdown","aria-expanded","false",1,"action-icon","dropdown-toggle"],[1,"fa","fa-ellipsis-v"],[1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"routerLink"],[1,"fa-solid","fa-pen-to-square","m-r-5"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),t._uU(8,"Dashboard "),t.qZA()(),t.TgZ(9,"li",6),t._UZ(10,"i",8),t.qZA(),t.TgZ(11,"li",9),t._uU(12,"Admin Dashboard Novalmed"),t.qZA()()()()(),t.TgZ(13,"div",10)(14,"div",3)(15,"div",11)(16,"div",12)(17,"h2"),t._uU(18,"Buenos Dias, "),t.TgZ(19,"span"),t._uU(20),t.qZA()(),t.TgZ(21,"p"),t._uU(22," Que tengas un lindo dia en el trabajo"),t.qZA()()(),t.TgZ(23,"div",13)(24,"div",14),t._UZ(25,"img",15),t.qZA()()()(),t.YNc(26,Y,58,16,"div",16),t.YNc(27,L,30,19,"div",16),t.YNc(28,V,31,2,"div",16),t.qZA()()),2&e&&(t.xp6(7),t.Q6J("routerLink",n.routes.adminDashboard),t.xp6(13),t.Oqu(n.user.name),t.xp6(6),t.Q6J("ngIf",n.user.roles.includes("Super-Admin")||n.user.permissions.includes("admin_dashboard")),t.xp6(1),t.Q6J("ngIf",n.user.roles.includes("Super-Admin")||n.user.permissions.includes("admin_dashboard")),t.xp6(1),t.Q6J("ngIf",n.user.roles.includes("Super-Admin")||n.user.permissions.includes("admin_dashboard")))},dependencies:[l.mk,l.sg,l.O5,m.rH,T.x,q.gD,O.ey,v.YE,v.nU,Z.JJ,Z.On],styles:[".donut-chart-custom[_ngcontent-%COMP%]{display:flex;justify-content:center}"]})}const B=[{path:"",component:h}];class _{static#t=this.\u0275fac=function(e){return new(e||_)};static#e=this.\u0275mod=t.oAB({type:_});static#a=this.\u0275inj=t.cJS({imports:[m.Bz.forChild(B),m.Bz]})}var G=s(9079);class u{static#t=this.\u0275fac=function(e){return new(e||u)};static#e=this.\u0275mod=t.oAB({type:u});static#a=this.\u0275inj=t.cJS({imports:[l.ez,_,G.m]})}}}]);