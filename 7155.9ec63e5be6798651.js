"use strict";(self.webpackChunkpreclinic_angular=self.webpackChunkpreclinic_angular||[]).push([[7155],{7155:(Je,fe,f)=>{f.d(fe,{by:()=>Qe}),f(4650),f(445);var R=f(1281),_=f(5017),L=(f(3353),f(7376),f(6895),f(7579)),S=(f(457),f(1135));f(9751),f(576);var T=f(9646);f(2722),f(5698);var ie=f(6451),W=f(9841),Q=f(4004);class We extends _.o2{get data(){return this._data.value}set data(n){n=Array.isArray(n)?n:[],this._data.next(n),this._renderChangesSubscription||this._filterData(n)}get filter(){return this._filter.value}set filter(n){this._filter.next(n),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(n){this._sort=n,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(n){this._paginator=n,this._updateChangeSubscription()}constructor(n=[]){super(),this._renderData=new S.X([]),this._filter=new S.X(""),this._internalPageChanges=new L.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,a)=>{const i=e[a];if((0,R.t6)(i)){const r=Number(i);return r<9007199254740991?r:i}return i},this.sortData=(e,a)=>{const i=a.active,r=a.direction;return i&&""!=r?e.sort((s,l)=>{let d=this.sortingDataAccessor(s,i),h=this.sortingDataAccessor(l,i);const c=typeof d,m=typeof h;c!==m&&("number"===c&&(d+=""),"number"===m&&(h+=""));let u=0;return null!=d&&null!=h?d>h?u=1:d<h&&(u=-1):null!=d?u=1:null!=h&&(u=-1),u*("asc"==r?1:-1)}):e},this.filterPredicate=(e,a)=>{const i=Object.keys(e).reduce((s,l)=>s+e[l]+"\u25ec","").toLowerCase(),r=a.trim().toLowerCase();return-1!=i.indexOf(r)},this._data=new S.X(n),this._updateChangeSubscription()}_updateChangeSubscription(){const n=this._sort?(0,ie.T)(this._sort.sortChange,this._sort.initialized):(0,T.of)(null),e=this._paginator?(0,ie.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,T.of)(null),i=(0,W.a)([this._data,this._filter]).pipe((0,Q.U)(([l])=>this._filterData(l))),r=(0,W.a)([i,n]).pipe((0,Q.U)(([l])=>this._orderData(l))),s=(0,W.a)([r,e]).pipe((0,Q.U)(([l])=>this._pageData(l)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=s.subscribe(l=>this._renderData.next(l))}_filterData(n){return this.filteredData=null==this.filter||""===this.filter?n:n.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(n){return this.sort?this.sortData(n.slice(),this.sort):n}_pageData(n){if(!this.paginator)return n;const e=this.paginator.pageIndex*this.paginator.pageSize;return n.slice(e,e+this.paginator.pageSize)}_updatePaginator(n){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=n,e.pageIndex>0)){const a=Math.ceil(e.length/e.pageSize)-1||0,i=Math.min(e.pageIndex,a);i!==e.pageIndex&&(e.pageIndex=i,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class Qe extends We{}}}]);